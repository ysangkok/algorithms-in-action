<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="generator" content="HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org" />
    <title></title>
  </head>
  <body>
    <div id="appletdiv"></div>
    <script type="text/javascript">
//<![CDATA[
function applettoload() {
return decodeURIComponent(window.location.search.substring(1));
}

function getCookieVal (offset)
{ 
        var endstr = document.cookie.indexOf (";", offset);
        if (endstr == -1)
        {
                 endstr = document.cookie.length; 
        }
        return unescape (document.cookie.substring(offset, endstr));
}

function getCookie (name)
{ 
        var arg = name + "=";
        var alen = arg.length;
        var clen = document.cookie.length;
        var i = 0;
        while (i < clen)
        { 
                var j = i + alen;
                if (document.cookie.substring (i,j) == arg)
                { 
                        return getCookieVal (j); 
                }
                i = document.cookie.indexOf (" ", i) + 1;
                if (i == 0) break;
        } 
        
                return null;
        }

        userName = getCookie("user");
        userLog = getCookie("ulog");
        userID = getCookie("id");
        
        nolog = getCookie("nolog");
        notrace = getCookie("notrace");
        if(nolog == null) nolog="false";
        if(notrace == null) notrace="false";
        
        userLanguage=getCookie("language");
        if(!userLanguage) userLanguage="en";

        if (userName !== null && userLog !== null)
        {
                var d = document.getElementById('appletdiv');
                
                var appletTag = document.createElement('object');
                appletTag.setAttribute("type", "application/x-java-applet");
                appletTag.setAttribute('width', "100");
                appletTag.setAttribute('height', "100");

                [["code","AppletLauncher.class"],
                 ['CUSER', userName],
                 ['archive', 'aia.jar?language='+userLanguage],
               ['appletToLoad', applettoload() + 'Applet.class'],
               [ 'language', userLanguage],
               [ 'CID', userID],
               [ 'ULOG', userLog],
               [ 'NOLOG', nolog],
               [ 'NOTRACE', notrace],
               [ 'NOSTEP', 'false'],
               [ 'NOBACK', 'false'],
               [ 'NOEXP', 'false'],
               [ 'COOKIES', 'true']
                ].forEach(function(i) {
                    var p = document.createElement('param');
                    p.setAttribute('name', i[0]);
                    if (typeof i[1] === "undefined") throw new Error(String(i[0]) + " undefined");
                    p.setAttribute('value', i[1]);
                    appletTag.appendChild(p);
                });
                
                d.appendChild(appletTag);               
                
        }

//]]>
</script>
  </body>
</html>
